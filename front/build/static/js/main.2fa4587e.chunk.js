(this["webpackJsonpfront-pulgnazak"]=this["webpackJsonpfront-pulgnazak"]||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(34),c=a.n(r),s=a(30),l=a.n(s),o=a(43),d=a(11),u=a(208),p=a(195),j=a(209),b=a(210),h=a(212),x=a(211),O=a(213),f=a(202),m=a(201),v=a(205),g=a(197),y=a(207),C=a(214),I=a(39),w=a(3),k=a(15),P=a(89),$=a(23),S=a(94),W=a(198),D=a(204),R=a(203),F=a(206),A=a(199),N=a(186),E=a(7),M=a(90),z=a(2),L=Object(A.a)((function(e){return{tag:{margin:3,maxWidth:"calc(100% - 6px)"},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,paddingRight:39,"$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},root:{display:"flex",flexGrow:1,"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},loading:{},endAdornment:{position:"absolute",right:0,top:"calc(50% - 24px)","$loading &":{top:"calc(50% - 14px)"}},rename:{borderRadius:10,padding:"5px !important"}}})),T=function(e,t){var a=e.onChange,i=e.TextFieldProps,r=e.placeholder,c=e.label,s=e.multiple,u=e.ChipProps,p=e.disabled,j=e.fileInputProps,b=e.valuePlaceHolder,h=e.concat,x=e.initialFiles,O=void 0===x?[]:x,f=Object(S.a)(e,["onChange","TextFieldProps","placeholder","label","multiple","ChipProps","disabled","fileInputProps","valuePlaceHolder","concat","initialFiles"]),m=L(),v=Object(n.useRef)(),g=Object(n.useState)(!1),C=Object(d.a)(g,2),A=C[0],T=C[1],V=Object(n.useState)(O),q=Object(d.a)(V,2),B=q[0],G=q[1],H=Object(n.useState)(),J=Object(d.a)(H,2),U=J[0],K=J[1];Object(n.useEffect)((function(){b&&!s&&G((function(e){return[Object($.a)(Object($.a)({},e[0]),{},{name:b})]}))}),[b,s]);var Q=Object(n.useCallback)(function(){var e=Object(o.a)(l.a.mark((function e(t){var n,i,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(T(!0),n=[],t.map)n=t;else{i=Object(P.a)(t);try{for(i.s();!(r=i.n()).done;)c=r.value,n.push(c)}catch(l){i.e(l)}finally{i.f()}}G((function(e){return h&&s?[].concat(Object(k.a)(e),Object(k.a)(n)):n})),T(!1),a&&a(s?h?[].concat(Object(k.a)(B),Object(k.a)(n)):n:n[0],U);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,B,U,s,a]);Object(n.useImperativeHandle)(t,(function(){return{preparaArquivo:Q,loading:A,setLoading:T}}),[Q,A]);var X=Object(N.a)({value:B,inputValue:B.length?"":r||"Selecione um arquivo",options:[],onChange:function(e,t,n){K(n),v.current.value="",G(t||[]),a&&a(s?t||[]:(t||[])[0],U)},multiple:!0,componentName:"FilePreparer"}),Y=X.getInputProps,Z=X.getTagProps,_=X.setAnchorEl,ee=X.focusedTag,te=X.getClearProps,ae=X.dirty,ne=Object(n.useState)(),ie=Object(d.a)(ne,2),re=ie[0],ce=ie[1],se=function(e){return function(t){t.stopPropagation(),B[e].idRecebimento&&ce(e)}},le=function(e){G(Object(M.a)((function(t){t[re].name=e.target.value}))),ce(void 0)};return Object(z.jsxs)("div",Object($.a)(Object($.a)({className:Object(E.a)(m.root,Object(w.a)({},m.loading,A))},f),{},{children:[Object(z.jsx)("input",Object($.a)({ref:v,type:"file",multiple:s,onChange:function(e){var t,a;return(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(a=t.files)||void 0===a?void 0:a.length)&&Q(e.target.files)},style:{display:"none"},accept:"application/x-x509-ca-cert,application/x-x509-user-cert"},j)),Object(z.jsx)(W.a,Object($.a)({ref:_,variant:"outlined",label:c||"Arquivo",margin:"dense",onClick:function(){return!A&&!B.length&&!p&&v.current.click()},style:{flexGrow:"1"},InputProps:{readOnly:!0,startAdornment:B.length>0?B.map((function(e,t){return re===t?Object(z.jsx)(D.a,{className:m.rename,defaultValue:e.name,autoFocus:!0,onBlur:le,multiline:!0,disableUnderline:!0}):Object(z.jsx)(R.a,Object($.a)(Object($.a)({className:Object(E.a)(m.tag),label:e.name,onClick:se(t),clickable:!0},Object($.a)({disabled:p},u)),Z({index:t})))})):void 0,className:m.inputRoot,endAdornment:Object(z.jsx)("div",{className:m.endAdornment,children:A?Object(z.jsx)(F.a,{disableShrink:!0,size:24}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(y.a,Object($.a)(Object($.a)({disabled:p},te()),{},{className:Object(E.a)(m.clearIndicator,Object(w.a)({},m.clearIndicatorDirty,ae)),size:"large",children:Object(z.jsx)(I.b,{})})),Object(z.jsx)(y.a,{disabled:p,onClick:function(e){e.stopPropagation(),v.current.click()},size:"large",children:Object(z.jsx)(I.a,{})})]})})},inputProps:Object($.a)({className:Object(E.a)(m.input,Object(w.a)({},m.inputFocused,-1===ee)),disabled:p},Y())},i))]}))},V=Object(n.forwardRef)(T),q=a(64),B=a.n(q);var G=function(){var e=Object(n.useState)("success"),t=Object(d.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),c=Object(d.a)(r,2),s=c[0],w=c[1],k=function(){return w("")},P=Object(n.useState)([]),$=Object(d.a)(P,2),S=$[0],W=$[1],D=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.map((function(e){var t=new FormData;return t.append("cert",e),B.a.post("https://pure-chamber-38883.herokuapp.com/send-trusty",t)})),e.prev=1,e.next=4,Promise.all(t);case 4:if(!e.sent.some((function(e){return 200!==e.status}))){e.next=9;break}return i("error"),w("Erro ao enviar certificados confiaveis"),e.abrupt("return");case 9:i("success"),w("Certificados cadastrados"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),i("error"),w((null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(r=e.t0.response)||void 0===r?void 0:r.data)||e.t0.message||e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),R=Object(n.useState)(),F=Object(d.a)(R,2),A=F[0],N=F[1],E=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("cert",A),e.next=5,B.a.post("https://pure-chamber-38883.herokuapp.com/verify",t);case 5:a=e.sent,i("success"),w(a.data.message||a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i("error"),w((null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===(c=e.t0.response)||void 0===c?void 0:c.data)||e.t0.message||e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.delete("https://pure-chamber-38883.herokuapp.com/clear");case 3:t=e.sent,i("success"),w(t.data.message||t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("error"),w((null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(r=e.t0.response)||void 0===r?void 0:r.data)||e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(u.a,{component:"main",maxWidth:"sm",sx:{my:3},children:[Object(z.jsx)(p.a,{}),Object(z.jsxs)(j.a,{children:[Object(z.jsx)(b.a,{title:"Trabalho Acad\xeamico"}),Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(x.a,{children:[Object(z.jsx)(O.a,{sx:{fontWeight:"bold",display:"inline"},children:"Disciplina:"})," Seguran\xe7a em Com\xe9rcio Eletr\xf4nico"]}),Object(z.jsxs)(x.a,{children:[Object(z.jsx)(O.a,{sx:{fontWeight:"bold",display:"inline"},children:"Semestre:"})," 2021/2"]}),Object(z.jsxs)(x.a,{children:[Object(z.jsx)(O.a,{sx:{fontWeight:"bold",display:"inline"},children:"Curso:"})," Seguran\xe7a da Informa\xe7\xe3o"]}),Object(z.jsxs)(x.a,{children:[Object(z.jsx)(O.a,{sx:{fontWeight:"bold",display:"inline"},children:"Institui\xe7\xe3o:"})," Universidade do Vale do Rio dos Sinos"]}),Object(z.jsx)(x.a,{sx:{fontWeight:"bold"},children:"Desenvolvedores:"}),Object(z.jsx)(x.a,{sx:{ml:4},children:"Matheus Wandscheer"}),Object(z.jsx)(x.a,{sx:{ml:4},children:"Arthur Oliveira"})]})]}),Object(z.jsx)(f.a,{open:!!s,onClose:k,children:Object(z.jsx)(m.a,{onClose:k,severity:a,sx:{width:"100%"},children:s})}),Object(z.jsxs)(v.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(z.jsx)(x.a,{variant:"h6",sx:{mb:2},children:"Cadastrar Certificados Confi\xe1veis"}),Object(z.jsxs)(O.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:[Object(z.jsx)(V,{label:"Certificados confiaveis",fullWidth:!0,multiple:!0,concat:!0,onChange:W}),Object(z.jsx)(g.a,{arrow:!0,title:"Enviar",children:Object(z.jsx)(y.a,{onClick:D,sx:{width:50,height:50},children:Object(z.jsx)(I.d,{})})})]})]}),Object(z.jsxs)(v.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(z.jsx)(x.a,{variant:"h6",sx:{mb:2},children:"Verificar se Certificado \xe9 confi\xe1vel"}),Object(z.jsxs)(O.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:[Object(z.jsx)(V,{label:"Certificados confiaveis",fullWidth:!0,onChange:N}),Object(z.jsx)(g.a,{arrow:!0,title:"Enviar",children:Object(z.jsx)(y.a,{onClick:E,sx:{width:50,height:50},children:Object(z.jsx)(I.d,{})})})]})]}),Object(z.jsxs)(v.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(z.jsx)(x.a,{variant:"h6",sx:{mb:2},children:"Limpar Certificados Confi\xe1veis"}),Object(z.jsx)(O.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:Object(z.jsx)(g.a,{arrow:!0,title:"Limpar",children:Object(z.jsx)(C.a,{onClick:M,variant:"contained",endIcon:Object(z.jsx)(I.c,{}),children:"Limpar"})})})]})]})};c.a.render(Object(z.jsx)(i.a.StrictMode,{children:Object(z.jsx)(G,{})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.2fa4587e.chunk.js.map