{"version":3,"sources":["FilePreparer.js","App.js","index.js"],"names":["useStyles","makeStyles","_theme","tag","margin","maxWidth","inputRoot","flexWrap","paddingRight","width","minWidth","paddingBottom","padding","paddingLeft","right","input","flexGrow","textOverflow","opacity","inputFocused","clearIndicator","marginRight","visibility","clearIndicatorDirty","root","display","loading","endAdornment","position","top","rename","borderRadius","FilePreparer","ref","onChange","TextFieldProps","placeholder","label","multiple","ChipProps","disabled","fileInputProps","valuePlaceHolder","concat","initialFiles","props","classes","inputRef","useRef","useState","setLoading","files","setFiles","motivo","setMotivo","useEffect","f","name","preparaArquivo","useCallback","file","a","reqs","map","push","useImperativeHandle","useAutocomplete","value","inputValue","length","options","_","v","reason","current","componentName","getInputProps","getTagProps","setAnchorEl","focusedTag","getClearProps","dirty","editando","setEditando","handleEditing","index","e","stopPropagation","idRecebimento","handleRename","produce","target","undefined","className","clsx","type","style","accept","TextField","variant","onClick","click","InputProps","readOnly","startAdornment","option","FilledInput","defaultValue","autoFocus","onBlur","multiline","disableUnderline","Chip","clickable","CircularProgress","disableShrink","size","IconButton","inputProps","forwardRef","App","severity","setSeverity","message","setMessage","handleClose","confiaveis","setConfiaveis","enviarConfiaveis","cert","data","FormData","append","axios","post","Promise","all","some","status","response","testando","setTestando","checarConfiavel","res","limparMemoria","delete","Container","component","CssBaseline","Snackbar","open","onClose","Alert","sx","Paper","elevation","p","mt","flexDirection","alignItems","Typography","mb","Box","gap","justifyContent","fullWidth","Tooltip","arrow","title","height","Button","endIcon","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c6ac193.chunk.js","sourcesContent":["import { Chip, CircularProgress, FilledInput, IconButton, TextField } from '@mui/material';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport useAutocomplete from '@mui/material/useAutocomplete';\r\nimport clsx from 'clsx';\r\nimport { produce } from 'immer';\r\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\r\nimport { MdAttachment, MdClear } from 'react-icons/md';\r\n\r\nconst useStyles = makeStyles(_theme => ({\r\n  tag: {\r\n    margin: 3,\r\n    maxWidth: 'calc(100% - 6px)',\r\n  },\r\n  inputRoot: {\r\n    flexWrap: 'wrap',\r\n    '$hasPopupIcon &, $hasClearIcon &': {\r\n      paddingRight: 26 + 4,\r\n    },\r\n    '$hasPopupIcon$hasClearIcon &': {\r\n      paddingRight: 52 + 4,\r\n    },\r\n    '& $input': {\r\n      width: 0,\r\n      minWidth: 30,\r\n    },\r\n    '&[class*=\"MuiInput-root\"]': {\r\n      paddingBottom: 1,\r\n      '& $input': {\r\n        padding: 4,\r\n      },\r\n      '& $input:first-child': {\r\n        padding: '6px 0',\r\n      },\r\n    },\r\n    '&[class*=\"MuiOutlinedInput-root\"]': {\r\n      padding: 9,\r\n      paddingRight: 26 + 4 + 9,\r\n      '$hasClearIcon &': {\r\n        paddingRight: 52 + 4 + 9,\r\n      },\r\n      '& $input': {\r\n        padding: '9.5px 4px',\r\n      },\r\n      '& $input:first-child': {\r\n        paddingLeft: 6,\r\n      },\r\n      '& $endAdornment': {\r\n        right: 9,\r\n      },\r\n    },\r\n    '&[class*=\"MuiOutlinedInput-root\"][class*=\"MuiOutlinedInput-marginDense\"]': {\r\n      padding: 6,\r\n      '& $input': {\r\n        padding: '4.5px 4px',\r\n      },\r\n    },\r\n  },\r\n  input: {\r\n    flexGrow: 1,\r\n    textOverflow: 'ellipsis',\r\n    opacity: 0,\r\n  },\r\n  inputFocused: {\r\n    opacity: 1,\r\n  },\r\n  clearIndicator: {\r\n    marginRight: -2,\r\n    padding: 4,\r\n    visibility: 'hidden',\r\n  },\r\n  clearIndicatorDirty: {},\r\n  root: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    '&$focused $clearIndicatorDirty': {\r\n      visibility: 'visible',\r\n    },\r\n    '@media (pointer: fine)': {\r\n      '&:hover $clearIndicatorDirty': {\r\n        visibility: 'visible',\r\n      },\r\n    },\r\n  },\r\n  loading: {},\r\n  endAdornment: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 'calc(50% - 24px)',\r\n    '$loading &': {\r\n      top: 'calc(50% - 14px)',\r\n    },\r\n  },\r\n  rename: {\r\n    borderRadius: 10,\r\n    padding: '5px !important'\r\n  }\r\n}));\r\n\r\nconst FilePreparer = ({\r\n  onChange,\r\n  TextFieldProps,\r\n  placeholder,\r\n  label,\r\n  multiple,\r\n  ChipProps,\r\n  disabled,\r\n  fileInputProps,\r\n  valuePlaceHolder,\r\n  concat,\r\n  initialFiles = [],\r\n  ...props\r\n}, ref) => {\r\n  const classes = useStyles();\r\n  const inputRef = useRef();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [files, setFiles] = useState(initialFiles);\r\n\r\n  const [motivo, setMotivo] = useState();\r\n\r\n  useEffect(() => {\r\n    if (valuePlaceHolder && !multiple) setFiles(f => [{ ...f[0], name: valuePlaceHolder }]);\r\n  }, [valuePlaceHolder, multiple]);\r\n\r\n  const preparaArquivo = useCallback(async file => {\r\n    if (!file) return;\r\n    setLoading(true);\r\n    let reqs = [];\r\n    if (file.map) reqs = file;\r\n    else for (const f of file) reqs.push(f);\r\n    setFiles(f => concat && multiple ? ([...f, ...reqs]) : reqs);\r\n    setLoading(false);\r\n\r\n    onChange && onChange(multiple ? concat ? [...files, ...reqs] : reqs : reqs[0], motivo);\r\n  }, [concat, files, motivo, multiple, onChange]);\r\n\r\n  useImperativeHandle(ref, () => ({ preparaArquivo, loading, setLoading }), [preparaArquivo, loading]);\r\n\r\n  const handleChange = (_, v, reason) => {\r\n    setMotivo(reason);\r\n    inputRef.current.value = '';\r\n    setFiles(v || []);\r\n\r\n    onChange && onChange(multiple ? v || [] : (v || [])[0], motivo);\r\n  };\r\n\r\n  const {\r\n    getInputProps,\r\n    getTagProps,\r\n    setAnchorEl,\r\n    focusedTag,\r\n    getClearProps,\r\n    dirty\r\n  } = useAutocomplete({\r\n    value: files,\r\n    inputValue: files.length ? '' : placeholder || 'Selecione um arquivo',\r\n    options: [],\r\n    onChange: handleChange,\r\n    multiple: true,\r\n    componentName: 'FilePreparer'\r\n  });\r\n\r\n  const [editando, setEditando] = useState();\r\n\r\n  const handleEditing = index => e => {\r\n    e.stopPropagation();\r\n    if (files[index].idRecebimento) setEditando(index);\r\n  };\r\n\r\n  const handleRename = e => {\r\n    setFiles(produce(file => void (file[editando].name = e.target.value)));\r\n    setEditando(undefined);\r\n  };\r\n\r\n  const handleClick = () => !loading && !files.length && !disabled && inputRef.current.click();\r\n\r\n  return (\r\n    <div className={clsx(classes.root, { [classes.loading]: loading })} {...props}>\r\n      <input ref={inputRef} type='file' {...{ multiple }} onChange={e => e?.target?.files?.length && preparaArquivo(e.target.files)} style={{ display: 'none' }} accept='application/x-x509-ca-cert,application/x-x509-user-cert' {...fileInputProps} />\r\n      <TextField\r\n        ref={setAnchorEl}\r\n        variant='outlined'\r\n        label={label || 'Arquivo'}\r\n        margin='dense'\r\n        onClick={handleClick}\r\n        style={{ flexGrow: '1' }}\r\n        InputProps={{\r\n          readOnly: true,\r\n          startAdornment: files.length > 0 ?\r\n            files.map((option, index) => editando === index ? (\r\n              <FilledInput className={classes.rename} defaultValue={option.name} autoFocus onBlur={handleRename} multiline disableUnderline />\r\n            ) : (\r\n              <Chip\r\n                className={clsx(classes.tag)}\r\n                label={option.name}\r\n                onClick={handleEditing(index)}\r\n                clickable\r\n                {...{ disabled, ...ChipProps }}\r\n                {...getTagProps({ index })}\r\n              />\r\n            )) : undefined,\r\n          className: classes.inputRoot,\r\n          endAdornment: <div className={classes.endAdornment}>\r\n            {loading ? <CircularProgress disableShrink size={24} /> : <>\r\n              <IconButton\r\n                disabled={disabled}\r\n                {...getClearProps()}\r\n                className={clsx(classes.clearIndicator, {\r\n                  [classes.clearIndicatorDirty]: dirty,\r\n                })}\r\n                size=\"large\">\r\n                <MdClear />\r\n              </IconButton>\r\n              <IconButton\r\n                disabled={disabled}\r\n                onClick={e => {\r\n                  e.stopPropagation();\r\n                  inputRef.current.click();\r\n                }}\r\n                size=\"large\">\r\n                <MdAttachment />\r\n              </IconButton>\r\n            </>}\r\n          </div>\r\n        }}\r\n        inputProps={{\r\n          className: clsx(classes.input, {\r\n            [classes.inputFocused]: focusedTag === -1,\r\n          }), disabled, ...getInputProps()\r\n        }}\r\n        {...TextFieldProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default forwardRef(FilePreparer);","import { Alert, Box, Button, Container, CssBaseline, IconButton, Paper, Snackbar, Tooltip, Typography } from '@mui/material';\nimport { useState } from 'react';\nimport { MdDelete, MdSend } from 'react-icons/md';\nimport FilePreparer from './FilePreparer'\nimport axios from \"axios\"\n\nfunction App() {\n\n  const [severity, setSeverity] = useState(\"success\")\n  const [message, setMessage] = useState(\"\")\n\n  const handleClose = () => setMessage(\"\")\n\n  const [confiaveis, setConfiaveis] = useState([])\n\n  const enviarConfiaveis = async () => {\n    const reqs = confiaveis.map(cert => {\n      const data = new FormData()\n      data.append(\"cert\", cert)\n      return axios.post(\"https://pure-chamber-38883.herokuapp.com/send-trusty\", data)\n    })\n    try {\n      const res = await Promise.all(reqs)\n      if (res.some(({ status }) => status !== 200)) {\n        setSeverity(\"error\")\n        setMessage(\"Erro ao enviar certificados confiaveis\");\n        return\n      }\n      setSeverity(\"success\")\n      setMessage(\"Certificados cadastrados\")\n    } catch (error) {\n      setSeverity(\"error\")\n      setMessage(error.response?.data?.message || error.response?.data || error.message || error)\n    }\n  }\n\n  const [testando, setTestando] = useState()\n\n  const checarConfiavel = async () => {\n    try {\n      const data = new FormData()\n      data.append(\"cert\", testando)\n\n      const res = await axios.post(\"https://pure-chamber-38883.herokuapp.com/verify\", data)\n      setSeverity(\"success\")\n      setMessage(res.data.message || res.data)\n    } catch (error) {\n      setSeverity(\"error\")\n      setMessage(error.response?.data?.message || error.response?.data || error.message || error)\n    }\n  }\n\n  const limparMemoria = async () => {\n    try {\n      const res = await axios.delete(\"https://pure-chamber-38883.herokuapp.com/clear\")\n      setSeverity(\"success\")\n      setMessage(res.data.message || res.data)\n    } catch (error) {\n      setSeverity(\"error\")\n      setMessage(error.response?.data?.message || error.response?.data || error.message || error)\n    }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <CssBaseline />\n\n      <Snackbar open={!!message} onClose={handleClose}>\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\n          {message}\n        </Alert>\n      </Snackbar>\n\n      <Paper\n        elevation={3}\n        sx={{\n          p: 2,\n          mt: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Typography variant='h6' sx={{ mb: 2 }}>Cadastrar Certificados Confiáveis</Typography>\n        <Box sx={{ width: '100%', display: 'flex', gap: 2, justifyContent: \"center\", alignItems: 'center', maxWidth: \"100%\" }}>\n          <FilePreparer label=\"Certificados confiaveis\" fullWidth multiple concat onChange={setConfiaveis} />\n          <Tooltip arrow title='Enviar'>\n            <IconButton onClick={enviarConfiaveis} sx={{ width: 50, height: 50 }}>\n              <MdSend />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      </Paper>\n\n      <Paper\n        elevation={3}\n        sx={{\n          p: 2,\n          mt: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Typography variant='h6' sx={{ mb: 2 }}>Verificar se Certificado é confiável</Typography>\n        <Box sx={{ width: '100%', display: 'flex', gap: 2, justifyContent: \"center\", alignItems: 'center', maxWidth: \"100%\" }}>\n          <FilePreparer label=\"Certificados confiaveis\" fullWidth onChange={setTestando} />\n          <Tooltip arrow title='Enviar'>\n            <IconButton onClick={checarConfiavel} sx={{ width: 50, height: 50 }}>\n              <MdSend />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      </Paper>\n\n\n      <Paper\n        elevation={3}\n        sx={{\n          p: 2,\n          mt: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Typography variant='h6' sx={{ mb: 2 }}>Limpar Certificados Confiáveis</Typography>\n        <Box sx={{ width: '100%', display: 'flex', gap: 2, justifyContent: \"center\", alignItems: 'center', maxWidth: \"100%\" }}>\n          <Tooltip arrow title='Limpar'>\n            <Button onClick={limparMemoria} variant='contained' endIcon={<MdDelete />}>\n              Limpar\n            </Button>\n          </Tooltip>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}