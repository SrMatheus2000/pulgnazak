(this["webpackJsonpfront-pulgnazak"]=this["webpackJsonpfront-pulgnazak"]||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(34),c=a.n(r),s=a(30),o=a.n(s),l=a(43),d=a(10),u=a(207),p=a(194),j=a(201),b=a(200),f=a(204),h=a(208),x=a(209),O=a(196),v=a(206),m=a(210),g=a(39),y=a(3),C=a(15),w=a(89),I=a(23),k=a(94),P=a(197),$=a(203),F=a(202),R=a(205),S=a(198),D=a(185),W=a(7),A=a(90),N=a(2),E=Object(S.a)((function(e){return{tag:{margin:3,maxWidth:"calc(100% - 6px)"},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,paddingRight:39,"$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},root:{display:"flex",flexGrow:1,"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},loading:{},endAdornment:{position:"absolute",right:0,top:"calc(50% - 24px)","$loading &":{top:"calc(50% - 14px)"}},rename:{borderRadius:10,padding:"5px !important"}}})),z=function(e,t){var a=e.onChange,i=e.TextFieldProps,r=e.placeholder,c=e.label,s=e.multiple,u=e.ChipProps,p=e.disabled,j=e.fileInputProps,b=e.valuePlaceHolder,f=e.concat,h=e.initialFiles,x=void 0===h?[]:h,O=Object(k.a)(e,["onChange","TextFieldProps","placeholder","label","multiple","ChipProps","disabled","fileInputProps","valuePlaceHolder","concat","initialFiles"]),m=E(),S=Object(n.useRef)(),z=Object(n.useState)(!1),L=Object(d.a)(z,2),M=L[0],T=L[1],q=Object(n.useState)(x),B=Object(d.a)(q,2),G=B[0],H=B[1],V=Object(n.useState)(),J=Object(d.a)(V,2),U=J[0],K=J[1];Object(n.useEffect)((function(){b&&!s&&H((function(e){return[Object(I.a)(Object(I.a)({},e[0]),{},{name:b})]}))}),[b,s]);var Q=Object(n.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,i,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(T(!0),n=[],t.map)n=t;else{i=Object(w.a)(t);try{for(i.s();!(r=i.n()).done;)c=r.value,n.push(c)}catch(o){i.e(o)}finally{i.f()}}H((function(e){return f&&s?[].concat(Object(C.a)(e),Object(C.a)(n)):n})),T(!1),a&&a(s?f?[].concat(Object(C.a)(G),Object(C.a)(n)):n:n[0],U);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,G,U,s,a]);Object(n.useImperativeHandle)(t,(function(){return{preparaArquivo:Q,loading:M,setLoading:T}}),[Q,M]);var X=Object(D.a)({value:G,inputValue:G.length?"":r||"Selecione um arquivo",options:[],onChange:function(e,t,n){K(n),S.current.value="",H(t||[]),a&&a(s?t||[]:(t||[])[0],U)},multiple:!0,componentName:"FilePreparer"}),Y=X.getInputProps,Z=X.getTagProps,_=X.setAnchorEl,ee=X.focusedTag,te=X.getClearProps,ae=X.dirty,ne=Object(n.useState)(),ie=Object(d.a)(ne,2),re=ie[0],ce=ie[1],se=function(e){return function(t){t.stopPropagation(),G[e].idRecebimento&&ce(e)}},oe=function(e){H(Object(A.a)((function(t){t[re].name=e.target.value}))),ce(void 0)};return Object(N.jsxs)("div",Object(I.a)(Object(I.a)({className:Object(W.a)(m.root,Object(y.a)({},m.loading,M))},O),{},{children:[Object(N.jsx)("input",Object(I.a)({ref:S,type:"file",multiple:s,onChange:function(e){var t,a;return(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(a=t.files)||void 0===a?void 0:a.length)&&Q(e.target.files)},style:{display:"none"},accept:"application/x-x509-ca-cert,application/x-x509-user-cert"},j)),Object(N.jsx)(P.a,Object(I.a)({ref:_,variant:"outlined",label:c||"Arquivo",margin:"dense",onClick:function(){return!M&&!G.length&&!p&&S.current.click()},style:{flexGrow:"1"},InputProps:{readOnly:!0,startAdornment:G.length>0?G.map((function(e,t){return re===t?Object(N.jsx)($.a,{className:m.rename,defaultValue:e.name,autoFocus:!0,onBlur:oe,multiline:!0,disableUnderline:!0}):Object(N.jsx)(F.a,Object(I.a)(Object(I.a)({className:Object(W.a)(m.tag),label:e.name,onClick:se(t),clickable:!0},Object(I.a)({disabled:p},u)),Z({index:t})))})):void 0,className:m.inputRoot,endAdornment:Object(N.jsx)("div",{className:m.endAdornment,children:M?Object(N.jsx)(R.a,{disableShrink:!0,size:24}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(v.a,Object(I.a)(Object(I.a)({disabled:p},te()),{},{className:Object(W.a)(m.clearIndicator,Object(y.a)({},m.clearIndicatorDirty,ae)),size:"large",children:Object(N.jsx)(g.b,{})})),Object(N.jsx)(v.a,{disabled:p,onClick:function(e){e.stopPropagation(),S.current.click()},size:"large",children:Object(N.jsx)(g.a,{})})]})})},inputProps:Object(I.a)({className:Object(W.a)(m.input,Object(y.a)({},m.inputFocused,-1===ee)),disabled:p},Y())},i))]}))},L=Object(n.forwardRef)(z),M=a(63),T=a.n(M);var q=function(){var e=Object(n.useState)("success"),t=Object(d.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),c=Object(d.a)(r,2),s=c[0],y=c[1],C=function(){return y("")},w=Object(n.useState)([]),I=Object(d.a)(w,2),k=I[0],P=I[1],$=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.map((function(e){var t=new FormData;return t.append("cert",e),T.a.post("http://localhost/send-trusty",t)})),e.prev=1,e.next=4,Promise.all(t);case 4:if(!e.sent.some((function(e){return 200!==e.status}))){e.next=9;break}return i("error"),y("Erro ao enviar certificados confiaveis"),e.abrupt("return");case 9:i("success"),y("Certificados cadastrados"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),i("error"),y((null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(r=e.t0.response)||void 0===r?void 0:r.data)||e.t0.message||e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),F=Object(n.useState)(),R=Object(d.a)(F,2),S=R[0],D=R[1],W=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("cert",S),e.next=5,T.a.post("http://localhost/verify",t);case 5:a=e.sent,i("success"),y(a.data.message||a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i("error"),y((null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===(c=e.t0.response)||void 0===c?void 0:c.data)||e.t0.message||e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete("http://localhost/clear");case 3:t=e.sent,i("success"),y(t.data.message||t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("error"),y((null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(r=e.t0.response)||void 0===r?void 0:r.data)||e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(u.a,{component:"main",maxWidth:"sm",children:[Object(N.jsx)(p.a,{}),Object(N.jsx)(j.a,{open:!!s,onClose:C,children:Object(N.jsx)(b.a,{onClose:C,severity:a,sx:{width:"100%"},children:s})}),Object(N.jsxs)(f.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(h.a,{variant:"h6",sx:{mb:2},children:"Cadastrar Certificados Confi\xe1veis"}),Object(N.jsxs)(x.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:[Object(N.jsx)(L,{label:"Certificados confiaveis",fullWidth:!0,multiple:!0,concat:!0,onChange:P}),Object(N.jsx)(O.a,{arrow:!0,title:"Enviar",children:Object(N.jsx)(v.a,{onClick:$,sx:{width:50,height:50},children:Object(N.jsx)(g.d,{})})})]})]}),Object(N.jsxs)(f.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(h.a,{variant:"h6",sx:{mb:2},children:"Verificar se Certificado \xe9 confi\xe1vel"}),Object(N.jsxs)(x.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:[Object(N.jsx)(L,{label:"Certificados confiaveis",fullWidth:!0,onChange:D}),Object(N.jsx)(O.a,{arrow:!0,title:"Enviar",children:Object(N.jsx)(v.a,{onClick:W,sx:{width:50,height:50},children:Object(N.jsx)(g.d,{})})})]})]}),Object(N.jsxs)(f.a,{elevation:3,sx:{p:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(h.a,{variant:"h6",sx:{mb:2},children:"Limpar Certificados Confi\xe1veis"}),Object(N.jsx)(x.a,{sx:{width:"100%",display:"flex",gap:2,justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:Object(N.jsx)(O.a,{arrow:!0,title:"Limpar",children:Object(N.jsx)(m.a,{onClick:A,variant:"contained",endIcon:Object(N.jsx)(g.c,{}),children:"Limpar"})})})]})]})};c.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(q,{})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.64a653b8.chunk.js.map